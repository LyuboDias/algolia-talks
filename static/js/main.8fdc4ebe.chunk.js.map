{"version":3,"sources":["constants/client.js","components/Autocomplete.jsx","components/Hits.js","App.jsx","index.js"],"names":["SEARCH_CLIENT","algoliasearch","concat","process","Autocomplete","props","containerRef","useRef","useEffect","current","search","autocomplete","Object","objectSpread","container","renderer","createElement","Fragment","render","destroy","react_default","a","ref","Hit","Highlight_default","attribute","hit","highlightPreTag","className","react","fallback","src","image_url","alt","name","viewed_count","popularity_score","VirtualSearchBox","connectSearchBox","createURL","searchState","qs","stringify","addQueryPrefix","App","_React$useState","React","useState","_ref2","parse","slice","urlToSearchState","window","location","_React$useState2","slicedToArray","setSearchState","timerRef","_React$useState3","_React$useState4","dropDown","setDropDown","clearTimeout","setTimeout","history","pushState","_ref","keys","length","pathname","searchStateToUrl","onSubmit","useCallback","_ref3","state","query","onReset","plugins","useMemo","recentSearchesPlugin","createLocalStorageRecentSearchesPlugin","key","limit","transformSource","_ref4","source","onSelect","params","item","label","createQuerySuggestionsPlugin","indexName","getSearchParams","data","getAlgoliaSearchParams","hitsPerPage","_ref5","InstantSearch","searchClient","onSearchStateChange","ClearRefinements_default","RefinementList","searchable","showMore","placeholder","detachedMediaQuery","initialState","openOnFocus","Stats_default","onClick","SortBy","defaultRefinement","items","value","Hits","hitComponent","Pagination","showLast","showPrevious","showNext","padding","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.8fdc4ebe.chunk.js","sourcesContent":["import algoliasearch from 'algoliasearch/lite';\n\nconst SEARCH_CLIENT = algoliasearch(\n    `${process.env.REACT_APP_API_ID}`,\n    `${process.env.REACT_APP_API_KEY}`\n);\n\nexport default SEARCH_CLIENT;\n","import { autocomplete } from '@algolia/autocomplete-js';\nimport React, { createElement, Fragment, useEffect, useRef } from 'react';\nimport { render } from 'react-dom';\n\nexport function Autocomplete(props) {\n  const containerRef = useRef(null);\n\n  useEffect(() => {\n    if (!containerRef.current) {\n      return undefined;\n    }\n\n    const search = autocomplete({\n      container: containerRef.current,\n      renderer: { createElement, Fragment, render },\n      ...props,\n    });\n\n    return () => {\n      search.destroy();\n    };\n  }, []);\n\n  return <div ref={containerRef} />;\n}\n","import React, { Suspense } from 'react';\nimport Highlight from 'react-instantsearch-dom/dist/cjs/widgets/Highlight';\nimport PropTypes from 'prop-types';\n// const Highlight = React.lazy(() => import('react-instantsearch-dom/dist/cjs/widgets/Highlight'));\n\nfunction Hit(props) {\n  return (\n    <article>\n        <h1>\n          <Highlight attribute=\"speakers\" hit={props.hit} highlightPreTag />\n          &nbsp;&nbsp;\n          <Highlight attribute=\"name\" hit={props.hit} />\n        </h1>\n        <br />\n        <div className=\"wrapper\">\n          <Suspense fallback={<div>Loading...</div>}>\n            <img\n            src={props.hit.image_url}\n            alt={props.hit.name}\n            className=\"hit_image\"\n          />\n          </Suspense>\n          <Highlight attribute=\"description\" hit={props.hit} />\n        </div>\n        <p className=\"views\">\n          👀 {props.hit.viewed_count}&nbsp;\n          👍🏻 {props.hit.popularity_score}&nbsp;\n        </p>\n      </article>\n  );\n}\n\nHit.propTypes = {\n  hit: PropTypes.object.isRequired,\n};\n\nexport default Hit;\n","import React from 'react';\nimport { createLocalStorageRecentSearchesPlugin } from '@algolia/autocomplete-plugin-recent-searches';\nimport { createQuerySuggestionsPlugin } from '@algolia/autocomplete-plugin-query-suggestions';\nimport {\n  connectSearchBox,\n  InstantSearch,\n  Hits,\n  SortBy,\n  RefinementList,\n  Pagination,\n} from 'react-instantsearch-dom';\nimport qs from 'qs';\n\nimport './App.css';\nimport SEARCH_CLIENT from './constants/client';\nimport { Autocomplete } from './components/Autocomplete.jsx';\nimport ClearRefinements from 'react-instantsearch-dom/dist/cjs/widgets/ClearRefinements';\nimport Stats from 'react-instantsearch-dom/dist/cjs/widgets/Stats';\nimport Hit from './components/Hits';\n\nconst VirtualSearchBox = connectSearchBox(() => null);\n\nfunction createURL(searchState) {\n  return qs.stringify(searchState, { addQueryPrefix: true });\n}\n\nfunction searchStateToUrl({ location }, searchState) {\n  if (Object.keys(searchState).length === 0) {\n    return '';\n  }\n\n  return `${location.pathname}${createURL(searchState)}`;\n}\n\nfunction urlToSearchState({ search }) {\n  return qs.parse(search.slice(1));\n}\n\nfunction App() {\n  const [searchState, setSearchState] = React.useState(() =>\n    urlToSearchState(window.location)\n  );\n  const timerRef = React.useRef(null);\n  const [dropDown, setDropDown] = React.useState(false);\n\n  React.useEffect(() => {\n    clearTimeout(timerRef.current);\n\n    timerRef.current = setTimeout(() => {\n      window.history.pushState(\n        searchState,\n        null,\n        searchStateToUrl({ location: window.location }, searchState)\n      );\n    }, 400);\n  }, [searchState]);\n\n  const onSubmit = React.useCallback(({ state }) => {\n    setSearchState(searchState => ({\n      ...searchState,\n      query: state.query,\n    }));\n  }, []);\n\n  const onReset = React.useCallback(() => {\n    setSearchState(searchState => ({\n      ...searchState,\n      query: '',\n    }));\n  }, []);\n\n  const plugins = React.useMemo(() => {\n    const recentSearchesPlugin = createLocalStorageRecentSearchesPlugin({\n      key: 'search',\n      limit: 5,\n      transformSource({ source }) {\n        return {\n          ...source,\n          onSelect(params) {\n            setSearchState(searchState => ({\n              ...searchState,\n              query: params.item.label,\n            }));\n          },\n        };\n      },\n    });\n\n    const querySuggestionsPlugin = createQuerySuggestionsPlugin({\n      SEARCH_CLIENT,\n      indexName: 'Talks_query_suggestions',\n      getSearchParams() {\n        return recentSearchesPlugin.data.getAlgoliaSearchParams({\n          hitsPerPage: 5,\n        });\n      },\n      transformSource({ source }) {\n        return {\n          ...source,\n          onSelect(params) {\n            setSearchState(searchState => ({\n              ...searchState,\n              query: params.item.query,\n            }));\n          },\n        };\n      },\n    }); \n  \n    return [\n      recentSearchesPlugin,\n      // querySuggestionsPlugin\n    ];\n  }, []);\n\n\n  return (\n    <div>\n      <header>\n        <img src=\"/navbar.png\" alt=\"navbar\" className=\"navbar-img\" />\n        <img src=\"/mobile-navbar.png\" alt=\"mobile-navbar\" className=\"mobile-navbar\" />\n      </header>\n      <div className=\"container\">\n        <InstantSearch\n          searchClient={SEARCH_CLIENT}\n          indexName=\"Talks\"\n          searchState={searchState}\n          onSearchStateChange={setSearchState}\n          createURL={createURL}\n        >\n          <div className=\"search-panel\">\n            <div className=\"search-panel__filters hidden\">\n              <ClearRefinements />\n              <h3>Tags</h3>\n              <RefinementList attribute=\"tags\" searchable showMore limit={5} />\n              <h3>Events</h3>\n              <RefinementList attribute=\"event_name\" showMore limit={5} />\n              <h3>Speakers</h3>\n              <RefinementList attribute=\"speakers\" showMore limit={5} />\n            </div>\n            <div className=\"search-panel__results\">\n              {/* <SearchBox\n                className=\"searchbox\"\n                translations={{\n                  placeholder: '',\n                }}\n              /> */}\n              <Autocomplete\n                placeholder=\"Search for TED Talk, Speaker or specific word...\"\n                detachedMediaQuery=\"none\"\n                initialState={{\n                  query: searchState.query,\n                }}\n                openOnFocus={true}\n                onSubmit={onSubmit}\n                onReset={onReset}\n                plugins={plugins}\n              />\n              <VirtualSearchBox />\n              <div className=\"stats-wrapper\">\n                <h2 className=\"talks\">Talks</h2>\n                <Stats />\n              </div>\n              <div className=\"sort-by\">\n                {dropDown ?\n                  <p onClick={() => setDropDown((dropDown) => !dropDown)} className=\"dropbtn\">Hide Filters</p>\n                : \n                  <p onClick={() => setDropDown((dropDown) => !dropDown)} className=\"dropbtn\">Show Filters</p>\n                }\n                {/* <p onClick={() => setDropDown((dropDown) => !dropDown)} className=\"dropbtn\">More Filters</p> */}\n                <SortBy \n                  defaultRefinement=\"Talks\"\n                  items={[\n                    {value: 'Talks', label: 'Most Relevant'},\n                    {value: 'Talks_popularity_score_desc', label: 'Highest Rated'},\n                    {value: 'Talks_viewed_count_desc', label: 'Most Views'},\n                  ]}\n                />\n              </div>\n              {dropDown ? \n                <div className=\"search-panel__filters\">\n                  <ClearRefinements />\n                  <h3>Tags</h3>\n                  <RefinementList attribute=\"tags\" searchable showMore limit={5} />\n                  <h3>Events</h3>\n                  <RefinementList attribute=\"event_name\" showMore limit={5} />\n                  <h3>Speakers</h3>\n                  <RefinementList attribute=\"speakers\" showMore limit={5} />\n                </div>\n              :\n                ''\n              }\n              <Hits hitComponent={Hit} />\n\n              <div className=\"pagination\">\n                <Pagination showLast  showPrevious={false} showNext={false} padding={2} />\n              </div>\n            </div>\n          </div>\n        </InstantSearch>\n      </div>\n      {/* sticky div */}\n      <div className=\"sticky-div\">\n        <img src=\"/arrow.png\" alt=\"arrow\" className=\"arrow\" />\n        <p className=\"feed\">New! Activity Feed</p>\n      </div>\n      <footer>\n        <img src=\"/footer.png\" alt=\"footer\" className=\"footer-img\" />\n        <img src=\"/mobile-footer-top.png\" alt=\"footer\" className=\"mobile-footer\" />\n        <img src=\"/mobile-footer-bottom.png\" alt=\"footer\" className=\"mobile-footer\" />\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}